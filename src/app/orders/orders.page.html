<ion-header>
  <ion-toolbar>
    <ion-title>Pedidos</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <div>
    <ion-list-header>
      <ion-label>Esperando confirmação</ion-label>
      <ion-button color="custom" *ngIf="!cancelling" (click)="toggleCancelling()">Cancelar</ion-button>
      <ion-button color="custom" *ngIf="cancelling" (click)="toggleCancelling()">Voltar</ion-button>
    </ion-list-header>
    <ion-list>
      <ion-item *ngFor="let order of waitingConfirmation">
        <ion-grid fixed>
          <ion-row>
            <ion-col size="10">
              <ion-label>{{ order.service.name }}</ion-label>
              <ion-label>Para seu pet: {{ order.client.pet.name }}</ion-label>
              <ion-label>No petshop: {{ order.petshop.name }}</ion-label>
              <ion-label>Em: {{ order.schedule.datetime }}</ion-label>
            </ion-col>
            <ion-col size="0.5">
              <ion-button color="custom" (click)="cancelOrder(order._id)" *ngIf="cancelling">
                <ion-icon name="remove-circle-outline"></ion-icon>
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
    </ion-list>
  </div>
  <div>
    <ion-list-header>
      <ion-label>Agendados</ion-label>
      <ion-button color="custom" *ngIf="!cancelling" (click)="toggleCancelling()">Cancelar</ion-button>
      <ion-button color="custom" *ngIf="cancelling" (click)="toggleCancelling()">Voltar</ion-button>
    </ion-list-header>
    <ion-list>
      <ion-item *ngFor="let order of scheduled">
        <ion-grid fixed>
          <ion-row>
            <ion-col size="10">
              <ion-label>{{ order.service.name }}</ion-label>
              <ion-label>Para seu pet: {{ order.client.pet.name }}</ion-label>
              <ion-label>No petshop: {{ order.petshop.name }}</ion-label>
              <ion-label>Em: {{ order.schedule.datetime }}</ion-label>
            </ion-col>
            <ion-col size="0.5">
              <ion-button color="custom" (click)="cancelOrder(order._id)" *ngIf="cancelling">
                <ion-icon name="remove-circle-outline"></ion-icon>
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
    </ion-list>
  </div>
  <div>
    <ion-list-header>
      <ion-label>Rejeitados</ion-label>
    </ion-list-header>
    <ion-list>
      <ion-item *ngFor="let order of rejected">
        <ion-grid fixed>
          <ion-row>
            <ion-col size="12">
              <ion-label>{{ order.service.name }}</ion-label>
              <ion-label>Para seu pet: {{ order.client.pet.name }}</ion-label>
              <ion-label>No petshop: {{ order.petshop.name }}</ion-label>
              <ion-label>Em: {{ order.schedule.datetime }}</ion-label>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
    </ion-list>
  </div>
  <div>
    <ion-list-header>
      <ion-label>Cancelados</ion-label>
    </ion-list-header>
    <ion-list>
      <ion-item *ngFor="let order of cancelled">
        <ion-grid fixed>
          <ion-row>
            <ion-col size="12">
              <ion-label>{{ order.service.name }}</ion-label>
              <ion-label>Para seu pet: {{ order.client.pet.name }}</ion-label>
              <ion-label>No petshop: {{ order.petshop.name }}</ion-label>
              <ion-label>Em: {{ order.schedule.datetime }}</ion-label>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
    </ion-list>
  </div>
  <div>
    <ion-list-header>
      <ion-label>Histórico</ion-label>
    </ion-list-header>
    <ion-list>
      <ion-item *ngFor="let order of historical">
        <ion-grid fixed>
          <ion-row>
            <ion-col size="12">
              <ion-label>{{ order.service.name }}</ion-label>
              <ion-label>Para seu pet: {{ order.client.pet.name }}</ion-label>
              <ion-label>No petshop: {{ order.petshop.name }}</ion-label>
              <ion-label>Em: {{ order.schedule.datetime }}</ion-label>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
    </ion-list>
  </div>
</ion-content>